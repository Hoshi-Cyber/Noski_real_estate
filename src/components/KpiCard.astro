---
export interface Props {
  label: string;
  value: string | number;
  href?: string;          // optional link turns card into an anchor
  iconSrc?: string;       // optional icon image
  iconAlt?: string;       // alt for icon image
}

const { label, value, href, iconSrc, iconAlt = '' } = Astro.props;

const shell =
  'rounded-xl ring-1 ring-neutral-200 bg-white shadow-sm p-4 sm:p-5 text-center transition hover:shadow-md';
---

{href ? (
  <a
    href={href}
    aria-label={`${label}: ${value}`}
    class="block focus:outline-none focus:ring-2 focus:ring-[color:var(--color-cta)] rounded-xl"
  >
    <div class={shell}>
      {Astro.slots.has('icon') ? (
        <div class="mx-auto mb-2 inline-flex items-center justify-center w-10 h-10 rounded-full ring-1 ring-neutral-200 bg-white shadow-sm">
          <slot name="icon" />
        </div>
      ) : iconSrc ? (
        <div class="mx-auto mb-2 inline-flex items-center justify-center w-10 h-10 rounded-full ring-1 ring-neutral-200 bg-white shadow-sm">
          <img
            src={iconSrc}
            alt={iconAlt}
            width="20" height="20"
            loading="lazy" decoding="async"
            class="w-5 h-5"
          />
        </div>
      ) : null}

      <div class="text-xs text-neutral-500">{label}</div>
      <div class="text-lg font-semibold text-primary">{value}</div>
    </div>
  </a>
) : (
  <div class={shell}>
    {Astro.slots.has('icon') ? (
      <div class="mx-auto mb-2 inline-flex items-center justify-center w-10 h-10 rounded-full ring-1 ring-neutral-200 bg-white shadow-sm">
        <slot name="icon" />
      </div>
    ) : iconSrc ? (
      <div class="mx-auto mb-2 inline-flex items-center justify-center w-10 h-10 rounded-full ring-1 ring-neutral-200 bg-white shadow-sm">
        <img
          src={iconSrc}
          alt={iconAlt}
          width="20" height="20"
          loading="lazy" decoding="async"
          class="w-5 h-5"
        />
      </div>
    ) : null}

    <div class="text-xs text-neutral-500">{label}</div>
    <div class="text-lg font-semibold text-primary">{value}</div>
  </div>
)}
