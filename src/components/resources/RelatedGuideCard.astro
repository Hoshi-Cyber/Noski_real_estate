---
interface Props {
  title: string;
  href: string;
  desc?: string;
  image?: string;   // e.g. '/images/guides/buying.webp'
  alt?: string;
}

const { title, href, desc = '', image = '', alt = '' } = Astro.props;
const hasImg = !!image;
---

<a href={href} class="post-card post-card--rich block h-full">
  {hasImg ? (
    <div class="post-media-wrap">
      <img
        src={image}
        alt={alt || title}
        class="post-media"
        loading="lazy"
        width="640"
        height="400"
      />
    </div>
  ) : (
    <div class="post-media-wrap" aria-hidden="true">
      <!-- simple placeholder so heights stay consistent -->
      <div style="width:100%;height:100%;background:linear-gradient(135deg,#eef2ff,#f8fafc)"></div>
    </div>
  )}

  <div class="post-body flex flex-col">
    <h4 class="post-title">{title}</h4>
    {desc && <p class="post-desc">{desc}</p>}
    <div class="post-meta">
      <span>Guide</span>
      <span class="read">Read more â†’</span>
    </div>
  </div>
</a>
