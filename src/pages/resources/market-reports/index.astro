---
import MainLayout from '../../../layouts/MainLayout.astro';

const title = 'Market Reports | Severino Reality';
const description = 'Local trends, quarterly reports, and neighborhood spotlights.';

const kpis = [
  { label: 'Median Price', value: '—' },
  { label: 'Days on Market', value: '—' },
  { label: 'Inventory', value: '—' },
];

const latest = {
  title: 'Latest Quarterly Report',
  summary: 'Quarter-over-quarter pricing, DOM, absorption, and inventory overview.',
  href: '/resources/market-reports/quarterly'
};

const archive = [
  { title: 'Q2 2025 Report', href: '/resources/market-reports/quarterly#2025-q2' },
  { title: 'Q1 2025 Report', href: '/resources/market-reports/quarterly#2025-q1' },
  { title: 'Q4 2024 Report', href: '/resources/market-reports/quarterly#2024-q4' },
];

const explore = [
  { name: 'Current Snapshot', href: '/resources/market-reports/current',  blurb: 'Live KPIs and quick direction.' },
  { name: 'Quarterly Reports', href: '/resources/market-reports/quarterly', blurb: 'Compare quarters and download PDFs.' },
  { name: 'Local Spotlights', href: '/resources/market-reports/local-spotlights', blurb: 'Neighborhood trends and amenities.' },
];

// JSON-LD ItemList for archive
const ld = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  itemListElement: archive.map((a, i) => ({
    '@type': 'ListItem',
    position: i + 1,
    item: { '@type': 'CreativeWork', name: a.title, url: a.href }
  })),
};
---
<MainLayout {title} description={description}>
  <section class="max-w-7xl mx-auto px-4 py-8 md:py-10">
    <header class="mb-6 md:mb-8">
      <h1 class="text-2xl md:text-3xl font-bold text-primary">Market Reports</h1>
      <p class="mt-2 text-neutral-700">Track pricing, speed, and supply. Exportable reports for decisions.</p>
    </header>

    <!-- KPI snapshot -->
    <div class="grid grid-cols-3 gap-3 sm:max-w-2xl">
      {kpis.map(k => (
        <div class="rounded-md ring-1 ring-neutral-200 bg-white p-3 text-center">
          <div class="text-xs text-neutral-500">{k.label}</div>
          <div class="text-lg font-semibold text-primary">{k.value}</div>
        </div>
      ))}
    </div>

    <!-- Latest + Archive -->
    <div class="mt-6 grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-6">
      <a href={latest.href} class="block rounded-md ring-1 ring-neutral-200 bg-white p-4 hover:bg-neutral-50">
        <h2 class="text-lg font-semibold text-primary">{latest.title}</h2>
        <p class="text-sm text-neutral-600 mt-1">{latest.summary}</p>
        <span class="mt-3 inline-flex text-sm text-[color:var(--color-cta)]">Read report →</span>
      </a>

      <aside class="rounded-md ring-1 ring-neutral-200 bg-neutral-50/80 p-4">
        <h3 class="font-semibold text-primary">Archive</h3>
        <ul class="mt-2 space-y-2 text-sm">
          {archive.length ? archive.map(a => <li><a href={a.href} class="hover:underline">{a.title}</a></li>) : <li class="text-neutral-500">No items yet.</li>}
        </ul>
        <a href="/resources/market-reports/quarterly" class="mt-3 inline-block text-sm text-[color:var(--color-cta)]">See all →</a>
      </aside>
    </div>

    <!-- Explore links -->
    <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4">
      {explore.map(e => (
        <a href={e.href} class="block rounded-md ring-1 ring-neutral-200 bg-white p-4 hover:bg-neutral-50">
          <h3 class="font-semibold text-primary">{e.name}</h3>
          <p class="text-sm text-neutral-600 mt-1">{e.blurb}</p>
        </a>
      ))}
    </div>

    <div class="mt-8 flex flex-wrap gap-3">
      <a href="/contact" class="rounded-md px-3 py-2 bg-[color:var(--color-cta)] text-white text-sm">Request custom market analysis</a>
      <a href="/blog" class="rounded-md px-3 py-2 ring-1 ring-neutral-200 bg-white text-sm">Read latest insights</a>
    </div>

    <script type="application/ld+json">{JSON.stringify(ld)}</script>
  </section>
</MainLayout>
