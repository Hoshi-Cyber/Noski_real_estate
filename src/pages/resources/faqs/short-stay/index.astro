---
// src/pages/resources/faqs/short-stay/index.astro
import MainLayout from '../../../../layouts/MainLayout.astro';
import Breadcrumbs from '../../../../components/resources/Breadcrumbs.astro';

const title = 'Short-Stay FAQs | Severino Realty';
const description = 'Common questions for short-stay guests and hosts.';
const guideUrl = '/short-stays';

const categories = [
  {
    name: 'Booking & Stay Terms',
    faqs: [
      { q:'Minimum stay length?', aHtml:'<p>Set per unit and season. Longer minimums reduce churn and cleaning load.</p>' },
      { q:'Maximum stay length?', aHtml:'<p>Often 30–90 days. Beyond that may convert to tenancy rules.</p>' },
      { q:'Can I extend my stay?', aHtml:'<p>Yes, subject to availability and updated rate confirmation.</p>' },
      { q:'How far in advance can I book?', aHtml:'<p>Typically up to 6–12 months. Peak periods open earlier.</p>' },
      { q:'What is the grace period for free cancellations?', aHtml:'<p>Varies by rate plan. Shown at checkout before you pay.</p>' },
      { q:'Do you allow same-day bookings?', aHtml:'<p>Yes for verified guests, subject to screening and payment confirmation.</p>' }
    ]
  },
  {
    name: 'Pricing, Fees & Payments',
    faqs: [
      { q:'What’s included in rates?', aHtml:'<p>Utilities, Wi-Fi, and standard amenities. Any extras are disclosed upfront.</p>' },
      { q:'Are taxes or levies included?', aHtml:'<p>Local VAT/occupancy taxes shown at checkout as required by law.</p>' },
      { q:'Security deposit or card hold?', aHtml:'<p>Pre-auth or deposit held until post-checkout inspection is complete.</p>' },
      { q:'Cleaning and service fees?', aHtml:'<p>One-time cleaning fee per stay. Mid-stays available for a fee.</p>' },
      { q:'Accepted payment methods?', aHtml:'<p>Major cards, mobile money, or bank transfer via approved gateways.</p>' },
      { q:'Refund timelines?', aHtml:'<p>Gateways process within 7–14 business days after approval.</p>' }
    ]
  },
  {
    name: 'Check-in, Access & House Rules',
    faqs: [
      { q:'Check-in/out process?', aHtml:'<p>Digital guide with codes, ID match, and support contact 24/7.</p>' },
      { q:'Early check-in or late checkout?', aHtml:'<p>Possible with prior approval and fee. Depends on occupancy.</p>' },
      { q:'Are parties or events allowed?', aHtml:'<p>No unless expressly permitted in writing. Violations may forfeit deposit.</p>' },
      { q:'Guest limits and visitors?', aHtml:'<p>Declared at booking. Extra guests require approval and may incur fees.</p>' },
      { q:'Smoking policy?', aHtml:'<p>Non-smoking units. Evidence of smoking triggers cleaning fees.</p>' },
      { q:'Pet policy?', aHtml:'<p>Unit-specific. Some allow pets with fees and extra cleaning rules.</p>' }
    ]
  },
  {
    name: 'Amenities, Services & Utilities',
    faqs: [
      { q:'Is cleaning included?', aHtml:'<p>Starter clean before arrival. Optional mid-stays can be booked.</p>' },
      { q:'Laundry access?', aHtml:'<p>In-unit machines or shared facilities depending on property.</p>' },
      { q:'Kitchen use and equipment?', aHtml:'<p>Fully equipped in most units. Inventory listed in the guide.</p>' },
      { q:'Parking availability?', aHtml:'<p>Subject to building policy. May be free, reserved, or paid.</p>' },
      { q:'Backup power and water?', aHtml:'<p>Select units have generators/inverters and storage tanks. Check listing.</p>' },
      { q:'Workspace and internet speed?', aHtml:'<p>Dedicated desk in many units. Typical speeds 20–100+ Mbps.</p>' }
    ]
  },
  {
    name: 'Safety, Support & Compliance',
    faqs: [
      { q:'Emergency contact during stay?', aHtml:'<p>24/7 hotline and WhatsApp. Details provided pre-arrival.</p>' },
      { q:'What security measures exist?', aHtml:'<p>Secure access, CCTV in common areas, and staffed gates where applicable.</p>' },
      { q:'Insurance coverage?', aHtml:'<p>Structure insured by owner. Guests should insure personal items.</p>' },
      { q:'What happens in case of damage?', aHtml:'<p>Documented with photos. Costs charged against deposit or card hold.</p>' },
      { q:'ID requirements at check-in?', aHtml:'<p>Government ID required to comply with local hospitality laws.</p>' },
      { q:'Noise or neighbour complaints?', aHtml:'<p>We apply house rules. Repeated violations can terminate stay.</p>' }
    ]
  }
];

// Flatten for JSON-LD
const allFaqs = categories.flatMap(c => c.faqs);
const ld = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: allFaqs.map(f => ({
    '@type': 'Question',
    name: f.q,
    acceptedAnswer: { '@type': 'Answer', text: f.aHtml.replace(/<[^>]*>/g, '') }
  })),
};
---

<MainLayout {title} {description}>
  <section class="section container">
    <Breadcrumbs
      items={[
        { label: 'Home', href: '/' },
        { label: 'Resources', href: '/resources' },
        { label: 'FAQs', href: '/resources/faqs' },
        { label: 'Short-Stay FAQs' }
      ]}
      class="mb-6"
    />

    <header class="mb-6 md:mb-8">
      <h1 class="text-2xl md:text-3xl font-bold text-primary">Short-Stay FAQs</h1>
      <div class="mt-3">
        <a href={guideUrl} class="btn-cta text-sm">View Short-Stays</a>
      </div>
    </header>

    <div class="grid md:grid-cols-2 xl:grid-cols-3 gap-6">
      {categories.map(cat => (
        <div class="space-y-4">
          <h2 class="text-lg font-semibold text-accent">{cat.name}</h2>
          <div class="divide-y divide-neutral-200 rounded-md ring-1 ring-neutral-200 bg-white">
            {cat.faqs.map(f => (
              <details class="group">
                <summary class="list-none cursor-pointer px-4 py-3 flex items-center justify-between">
                  <span class="font-medium text-primary">{f.q}</span>
                  <svg class="w-4 h-4 transition-transform group-open:rotate-180" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </summary>
                <div class="px-4 pb-4 text-neutral-700 prose max-w-none" set:html={f.aHtml}></div>
              </details>
            ))}
          </div>
        </div>
      ))}
    </div>

    <script type="application/ld+json">{JSON.stringify(ld)}</script>
  </section>
</MainLayout>
