---
/** Guides Landing — v11 (Popular Articles removed; WhatsApp + FAQ removed) */
import MainLayout from '../../../layouts/MainLayout.astro';
import Breadcrumbs from '../../../components/resources/Breadcrumbs.astro';

const title = 'Guides | Severino Realty';
const description = 'Step-by-step help for buying, selling, renting/landlord, and investment.';

/** Subcategory tiles */
const tiles = [
  { title: 'Buying Guides',                 href: '/resources/guides/buying',           desc: 'From search to ownership.' },
  { title: 'Selling Guides',                href: '/resources/guides/selling',          desc: 'Prep, pricing, marketing, closing.' },
  { title: 'Renting & Landlord Guides',     href: '/resources/guides/renting-landlord', desc: 'Screening, leases, compliance.' },
  { title: 'Investment Guides',             href: '/resources/guides/investment',       desc: 'Yields, financing, exits.' },
];

/** Chips */
const chips = [
  { label: 'Buying Guides',              href: '/resources/guides/buying' },
  { label: 'Selling Guides',             href: '/resources/guides/selling' },
  { label: 'Renting & Landlord Guides',  href: '/resources/guides/renting-landlord' },
  { label: 'Investment Guides',          href: '/resources/guides/investment' },
];

/** Lead magnet */
const lead = {
  text: 'Get our free property buying checklist',
  note: 'Instant PDF download',
  href: '/docs/resources/buyer-checklist.pdf',
};

/** Quick Downloads */
const downloads = [
  { label: 'Property Viewing Checklist (PDF)',   file: 'property-viewing-checklist.pdf' },
  { label: 'Tenant Handover Form (PDF)',         file: 'tenant-handover-form.pdf' },
  { label: 'Rental Application Template (PDF)',  file: 'rental-application-template.pdf' },
  { label: 'Real Estate Glossary – Kenya (PDF)', file: 'real-estate-glossary-kenya-edition.pdf' },
  { label: 'Avoid Real Estate Scams (PDF)',      file: 'how-to-avoid-common-real-estate-scams.pdf' },
  { label: 'Title Deeds & Ownership (PDF)',      file: 'understanding-title-deeds-and-land-ownership.pdf' },
];

/** Testimonials */
const testimonials = [
  { q:'Clear guidance and tight processes. We moved from confusion to a signed deal fast.', a:'Private buyer, Nairobi · Residential purchase' },
  { q:'Sharp on pricing and marketing. Sold above our expectation.', a:'Seller, Kilimani · Apartment' },
  { q:'Landlord onboarding was painless. Good screening and lease structure.', a:'Landlord, Kileleshwa · Rental' },
  { q:'Investment brief was concise and data-led. Will work with them again.', a:'Investor, Westlands · Multi-unit' },
];
---

<MainLayout {title} {description}>
  <section class="section container">
    <!-- Breadcrumbs immediately above title -->
    <Breadcrumbs
      items={[
        { label: 'Home', href: '/' },
        { label: 'Resources', href: '/resources' },
        { label: 'Guides' }
      ]}
      class="mb-2"
    />

    <header class="mb-5 md:mb-6">
      <h1 class="text-2xl md:text-3xl font-bold text-primary">Guides</h1>
      <p class="mt-2 text-neutral-700">
        Step-by-step help for buying, selling, renting/landlord, and investment.
      </p>

      <!-- Hero CTA (single, smaller on mobile) -->
      <div class="mt-3 flex items-center gap-2 flex-nowrap">
        <a href={lead.href} class="btn-cta rounded-md text-sm px-3 py-2 md:text-base md:px-5 md:py-3">
          Download Free Buying Checklist
        </a>
      </div>

      <!-- Compact chips -->
      <div class="mt-3">
        <div class="grid grid-cols-4 gap-2 sm:flex sm:flex-wrap sm:gap-2">
          {chips.map((c) => (
            <a href={c.href} class="chip-link text-xs px-2 py-1 text-center">{c.label}</a>
          ))}
        </div>
      </div>
    </header>

    <!-- Subcategory Cards with subtle tint -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5">
      {tiles.map((t) => (
        <a href={t.href} class="category-tile tile-accent tile-tint" aria-label={t.title}>
          <div class="tile-badge" aria-hidden="true">
            <svg class="tile-icon-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="none" stroke="currentColor">
              <path d="M12 6v12m6-6H6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
            </svg>
          </div>
          <h2 class="tile-title">{t.title}</h2>
          <p class="tile-sub">{t.desc}</p>
          <div class="mt-3"><span class="badge-cta">Open Guide</span></div>
        </a>
      ))}
    </div>

    <!-- Quick Downloads -->
    <div class="mt-8">
      <h2 class="text-lg md:text-xl font-bold text-primary mb-3">Quick Downloads</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
        {downloads.map((d) => (
          <a href={`/docs/resources/${d.file}`} class="chip-link text-sm px-3 py-2" rel="noopener">{d.label}</a>
        ))}
      </div>
    </div>

    <!-- Lead Magnet Banner (smaller button) -->
    <div class="mt-8 rounded-2xl ring-1 ring-neutral-200 bg-white shadow-sm hover:shadow-md transition p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
      <div class="text-sm text-neutral-700">
        <strong class="text-primary">{lead.text}</strong>
        <span class="ml-2 text-neutral-500">{lead.note}</span>
      </div>
      <a href={lead.href} class="btn-cta rounded-md text-sm px-3 py-2">Download</a>
    </div>
  </section>

  <!-- Why choose us + Testimonials -->
  <section class="section container">
    <h2 class="section-title">Why choose us</h2>
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      <div class="why-card why-card--tint tint-blue">
        <span class="why-icon-ring">
          <svg viewBox="0 0 24 24" class="why-icon" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"><path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
        </span>
        <span class="why-label">Expertise across deals</span>
      </div>
      <div class="why-card why-card--tint tint-amber">
        <span class="why-icon-ring">
          <svg viewBox="0 0 24 24" class="why-icon" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"><path d="M12 8v8m-4-4h8" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
        </span>
        <span class="why-label">Transparent fees</span>
      </div>
      <div class="why-card why-card--tint tint-emerald">
        <span class="why-icon-ring">
          <svg viewBox="0 0 24 24" class="why-icon" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"><path d="M3 3v18h18" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
        </span>
        <span class="why-label">Local market data</span>
      </div>
      <div class="why-card why-card--tint tint-purple">
        <span class="why-icon-ring">
          <svg viewBox="0 0 24 24" class="why-icon" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"><path d="M7 8h10v8H7zM5 10h14" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
        </span>
        <span class="why-label">Faster closings</span>
      </div>
    </div>

    <div class="mt-6 overflow-hidden">
      <div class="marquee" role="region" aria-label="Testimonials">
        {[...testimonials, ...testimonials].map((t) => (
          <figure class="testimonial-card" aria-roledescription="slide">
            <p>“{t.q}”</p>
            <figcaption>{t.a}</figcaption>
          </figure>
        ))}
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="section">
    <div class="container surface-muted rounded-2xl p-6 sm:p-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
      <div>
        <h2 class="text-xl md:text-2xl font-bold text-primary">Need direction on your next move?</h2>
        <p class="mt-1 text-neutral-700">Book a consult.</p>
      </div>
      <div class="flex items-center gap-2">
        <a href="/contact" class="btn-cta rounded-md">Book a Consult</a>
      </div>
    </div>
  </section>

  <!-- Page-local styles (marquee only) -->
  <style is:global>
    @keyframes guides-marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    .marquee { display: flex; gap: 1rem; width: max-content; animation: guides-marquee 30s linear infinite; }
    .marquee:hover { animation-play-state: paused; }
    .testimonial-card { min-width: 280px; max-width: 360px; background:#fff; border-radius:1rem; border:1px solid rgba(0,0,0,.08); box-shadow:0 1px 3px rgba(0,0,0,.06); padding:1rem; }
    .testimonial-card p { font-style: italic; }
    .testimonial-card figcaption { margin-top:.5rem; font-size:.875rem; color:#555; }
  </style>
</MainLayout>
