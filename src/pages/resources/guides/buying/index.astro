---
import MainLayout from '../../../../layouts/MainLayout.astro';
import Breadcrumbs from '../../../../components/resources/Breadcrumbs.astro';

const title = 'Buying Guides | Locate Properties Kenya';
const description = 'Clear, modular buyer guidance. Jump into focused topics, skim quick-reference guides, or continue to related categories.';

/** Core topics â†’ link to their own pages */
const topics = [
  { title: 'Financing & Pre-approval', href: '/resources/guides/buying/financing', desc: 'Loan types, DTI, underwriting, rate locks.' },
  { title: 'Property Search',          href: '/resources/guides/buying/search',    desc: 'Criteria, neighborhoods, on-site checks.' },
  { title: 'Inspections & Diligence',  href: '/resources/guides/buying/due-diligence', desc: 'General + specialist inspections, disclosures.' },
  { title: 'Offer & Negotiation',      href: '/resources/guides/buying/offer',     desc: 'Terms, contingencies, tactics, escalation.' },
  { title: 'Appraisal & Financing',    href: '/resources/guides/buying/appraisal', desc: 'Value risk, gap strategies, lender cadence.' },
  { title: 'Closing & Handover',       href: '/resources/guides/buying/closing',   desc: 'CD, wiring, walkthrough, keys, post-close.' },
];

/** Additional guides: mix of internal pages and PDFs */
const extraGuides = [
  // INTERNAL PAGES
  { type: 'guide', label: 'How to Avoid Common Real Estate Scams', href: '/resources/guides/buying/how-to-avoid-common-real-estate-scams', blurb: 'Red flags, payment safety, verification protocol.' },
  { type: 'guide', label: 'Real Estate Glossary: Kenya Edition',   href: '/resources/guides/buying/glossary-kenya',                        blurb: 'Plain-English definitions for Kenya-specific property terms.' },

  // PDF downloads
  { type: 'pdf', label: 'Understanding Title Deeds & Land Ownership', href: '/docs/resources/understanding-title-deeds-and-land-ownership.pdf', blurb: 'Deed types, searches, transfers, risks.' },
  { type: 'pdf', label: 'Property Viewing Checklist',                 href: '/docs/resources/property-viewing-checklist.pdf',                  blurb: 'Room-by-room clues and defects.' },
  { type: 'pdf', label: 'Offer & Negotiation Checklist',              href: '/docs/resources/offer-negotiation-checklist.pdf',                 blurb: 'Term matrix, contingencies, appraisal gaps.' },
  { type: 'pdf', label: 'Closing & Handover Checklist',               href: '/docs/resources/closing-handover-checklist.pdf',                  blurb: 'Walkthrough, disclosures, wiring, keys.' },
];

/** Related categories at bottom */
const related = [
  { title: 'Selling Guides',            href: '/resources/guides/selling',          desc: 'Prep, pricing, marketing, closing.',      image: '/images/guides/selling.webp',     alt: 'Staged living room for sale' },
  { title: 'Renting & Landlord Guides', href: '/resources/guides/renting-landlord', desc: 'Screening, leases, compliance.',          image: '/images/guides/renting.webp',     alt: 'Keys and lease paperwork' },
  { title: 'Investment Guides',         href: '/resources/guides/investment',       desc: 'Yields, financing, exits.',               image: '/images/guides/investment.webp',  alt: 'Spreadsheet and small multifamily' },
];
---

<MainLayout {title} {description}>
  <section class="section container">
    <Breadcrumbs
      items={[
        { label: 'Home', href: '/' },
        { label: 'Resources', href: '/resources' },
        { label: 'Guides', href: '/resources/guides' },
        { label: 'Buying Guides' }
      ]}
      class="mb-2"
    />

    <header class="mb-5 md:mb-6">
      <h1 class="text-2xl md:text-3xl font-bold text-primary">Buying Guides</h1>
      <p class="mt-2 text-neutral-700">
        Choose a topic to go deeper. Each opens as its own page. Keep the quick PDFs handy for decisions in motion.
      </p>
    </header>

    <!-- Core Buying Topics -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
      {topics.map((t) => (
        <a href={t.href} class="category-tile tile-accent tile-tint" aria-label={t.title}>
          <div class="tile-badge" aria-hidden="true">
            <svg class="tile-icon-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor">
              <path d="M12 6v12m6-6H6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
            </svg>
          </div>
          <h2 class="tile-title">{t.title}</h2>
          <p class="tile-sub">{t.desc}</p>
          <div class="mt-3"><span class="badge-cta">Open Topic</span></div>
        </a>
      ))}
    </div>
  </section>

  <!-- Additional Guides -->
  <section class="section container">
    <h2 class="text-lg md:text-xl font-bold text-primary mb-3">Additional Guides for Buyers</h2>
    <p class="text-neutral-700 text-sm md:text-base mb-3">Short, practical guides and downloads for fast reference and risk control.</p>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      {extraGuides.map((g) => (
        <a href={g.href} class="card p-4 hover:shadow-md transition focus:outline-none ring-focus-brand" rel="noopener">
          <div class="flex items-start gap-3">
            {g.type === 'pdf' ? <span class="pdf-badge">PDF</span> : <span class="pdf-badge">GUIDE</span>}
            <h3 class="text-base md:text-lg font-semibold leading-snug text-primary">{g.label}</h3>
          </div>
          <p class="mt-2 text-sm text-neutral-600">{g.blurb}</p>
          <div class="mt-3"><span class="badge-cta">Open</span></div>
        </a>
      ))}
    </div>

    <div class="mt-6 rounded-2xl ring-1 ring-neutral-200 bg-white shadow-sm p-4">
      <p class="text-sm">
        <strong>Buyer risk controls:</strong> verify wire instructions by phone, confirm seller identity and title status, and avoid off-platform payments. Review the Scams guide before sending funds.
      </p>
    </div>
  </section>

  <!-- Related -->
  <section class="section container">
    <h2 class="text-lg md:text-xl font-bold text-primary mb-3">Related Guides</h2>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-5">
      {related.map((r) => (
        <a href={r.href} class="category-tile tile-accent" aria-label={r.title}>
          <img src={r.image} alt={r.alt} class="w-full h-36 object-cover rounded-xl mb-3"/>
          <h3 class="tile-title">{r.title}</h3>
          <p class="tile-sub">{r.desc}</p>
          <div class="mt-3"><span class="badge-cta">Open</span></div>
        </a>
      ))}
    </div>
  </section>
</MainLayout>
